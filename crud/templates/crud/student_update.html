{% extends "form/base.html" %}

{% block title %}{{title}}{% endblock %}

{% block content %}
<div style="margin-top: 30px;">
    <h1>{{title}}</h1>
    <form method="post" action="{% url 'student_update' student.id %}" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Name</label>
            <input type="text" value="{{student.name}}" class="form-control" id="name" name="name" aria-describedby="emailHelp">
        </div>
        <div class="row">
            <div class="col-md-6">
                <label for="exampleInputPassword1" class="form-label">Age</label>
                <input type="number" value="{{student.age}}" class="form-control" id="age" name="age">
            </div>
            <div class="col-md-6">
                <label for="exampleInputEmail1" class="form-label">Department</label>
                <input type="text" value="{{student.department}}" class="form-control" id="address" name="department">
            </div>
        </div>
        <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Profile Picture</label>
            <input type="file" class="form-control" id="file" name="profile_picture">
            {% if student.profile_picture %}
                <img src="{{student.profile_picture.url}}" style="height: 100px; width: 100px;">
            {% endif %}
        </div>
        <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Classroom</label>
            <select name="classroom" class="form-control">
                {% for class in classrooms %}
                {% if class.name == student.classroom.name %}
                <option selected>
                    {{ class.name }}
                </option>
                {% else %}
                <option>
                    {{ class.name }}
                </option>
                {% endif %}
                {% endfor %}
            </select>
        </div>

        <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Address</label>
            <input type="text" value="{{student.studentprofile.address}}" class="form-control" id="address" name="address">
        </div>
        <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Email</label>
            <input type="email" value="{{student.studentprofile.email}}" class="form-control" id="email" name="email">
        </div>
        <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Phone Number</label>
            <input type="text" value="{{student.studentprofile.phone_number}}" class="form-control" id="number" name="phone_number">
        </div>
        <div style="margin-bottom: 20px">
            <button type="submit" class="btn btn-success">Submit</button>
            <a href="{% url 'crud_home' %}" class="btn btn-primary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}